% For debugging purposes
/Times-Roman findfont
18 scalefont
setfont

% For debugging purposes
/showNum {
  % define a procedure to show a number
  20 string cvs show
} def

% Finds the starside length given the radius using the law of cosines
% r -> sqrt(r^2 + r^2 - 2r^2 * cos(144))
/starsideLength {
  /r exch def
  r r mul dup   % n^2 n^2
  add           % n^2+n^2
  2 r r mul mul % n^2 + n^2 2n^2
  144 cos mul   % n^2 + n^2 2n^2 * cos(144)
  sub sqrt      % sqrt(n^2 + n^2 - 2n^2 * cos(144))
} def

% Draws line with length n and removes it from stack
% n -> _
/starside {
  0 lineto % n 0 lineto
  currentpoint translate
  -144 rotate
} def

/stardict 14 dict def
stardict begin
  /mtrx matrix def
end

% The procedure that draws one star
% usage: x y rad star
/star {
  stardict begin
    /rad exch def
    /y exch def
    /x exch def

    % save coordinate system
    mtrx currentmatrix

    % newpath

    % move to top point
    x y rad add moveto

    -72 rotate
    currentpoint translate

    % draw star and closepath
    4 { rad starsideLength starside } repeat
    closepath

    % restore coordinate system
    mtrx setmatrix
  end
} def

/draw {
  /n exch def
  % n-times draw a star, decrease radius and fill color
  star
} def

% usage: x y rad n draw
300 400 200 10 draw
0 setgray fill

showpage
